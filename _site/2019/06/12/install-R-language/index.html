<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Think-life - 思考而创作">
    <meta name="keyword"  content="曹志龙的博客, CaoZhiLong Blog, 博客, 个人网站, 云计算, docker, openstack">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>linux下R 3.6.0的安装手册 - 思考生活 | ThinkLife Blog</title>

    <link rel="canonical" href="http://localhost:4000/2019/06/12/install-R-language/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">
    <link rel="stylesheet" href="/css/custom.css">


    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.bootcss.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->
	<!--
    <link rel="stylesheet" href="/css/website.css">
	-->
    <link rel="stylesheet" href="/css/mermaid.forest.min.css" media="screen">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">思考生活</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">我的主页</a>
                    </li>
<!--                    <li>
                        <a href="/index3.html">学习笔记</a>
                    </li>-->
                    
                    <li>
                        <a href="/about/">关于</a>
                    </li>
                    
                    <li>
                        <a href="/book/">学习记录</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">标签</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-2015.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-2015.jpg')
    }
   /****************************自定义样式***************************/
	.sidebar-container h5 {
	    color: #808080;
	    padding-bottom: 0em;
	}
	.sidebar-container a {
	    color: #615c5c!important;
	}	
	.side-catalog .catalog-body .h3_nav, .side-catalog {
	    margin-left: 14px;
	    font-size: 12px;
	}
	.side-catalog .catalog-body .h4_nav, .side-catalog {
	    margin-left: 16px;
	    font-size: 12px;
	}	
	.side-catalog .catalog-body .h5_nav, .side-catalog {
	    margin-left: 18px;
	    font-size: 12px;
	}	
	.side-catalog .catalog-body .h6_nav, .side-catalog {
	    margin-left: 20px;
	    font-size: 12px;
	}					
	 /****************************自定义样式***************************/
    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#技术杂谈" title="技术杂谈">技术杂谈</a>
                        
                    </div>
                    <h1>linux下R 3.6.0的安装手册</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">
                        CaoZhiLong发布于2019-06-12
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h1 id="linux下r-360的安装手册">linux下R 3.6.0的安装手册</h1>

<h2 id="前言">前言：</h2>

<p>在RHEL 7.2部署R3.6.0的时候，踩过了不少坑，其中系统的某些组件版本过低导致R安装不成功，此篇文章总结了一下正确安装R3.6.0的正确姿势，希望对想进行部署环境的人有所帮助。</p>

<h2 id="1-相关环境配置">1. 相关环境配置：</h2>

<h3 id="gcc-447">Gcc 4.4.7</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost ~]# gcc <span class="nt">-v</span>
Using built-in specs.
Target: x86_64-redhat-linux
Configured with: ../configure <span class="nt">--prefix</span><span class="o">=</span>/usr <span class="nt">--mandir</span><span class="o">=</span>/usr/share/man <span class="nt">--infodir</span><span class="o">=</span>/usr/share/info <span class="nt">--with-bugurl</span><span class="o">=</span>http://bugzilla.redhat.com/bugzilla <span class="nt">--enable-bootstrap</span> <span class="nt">--enable-shared</span> <span class="nt">--enable-threads</span><span class="o">=</span>posix <span class="nt">--enable-checking</span><span class="o">=</span>release <span class="nt">--with-system-zlib</span> <span class="nt">--enable-__cxa_atexit</span> <span class="nt">--disable-libunwind-exceptions</span> <span class="nt">--enable-gnu-unique-object</span> <span class="nt">--enable-languages</span><span class="o">=</span>c,c++,objc,obj-c++,java,fortran,ada <span class="nt">--enable-java-awt</span><span class="o">=</span>gtk <span class="nt">--disable-dssi</span> <span class="nt">--with-java-home</span><span class="o">=</span>/usr/lib/jvm/java-1.5.0-gcj-1.5.0.0/jre <span class="nt">--enable-libgcj-multifile</span> <span class="nt">--enable-java-maintainer-mode</span> <span class="nt">--with-ecj-jar</span><span class="o">=</span>/usr/share/java/eclipse-ecj.jar <span class="nt">--disable-libjava-multilib</span> <span class="nt">--with-ppl</span> <span class="nt">--with-cloog</span> <span class="nt">--with-tune</span><span class="o">=</span>generic <span class="nt">--with-arch_32</span><span class="o">=</span>i686 <span class="nt">--build</span><span class="o">=</span>x86_64-redhat-linux
Thread model: posix
gcc version 4.4.7 20120313 <span class="o">(</span>Red Hat 4.4.7-23<span class="o">)</span> <span class="o">(</span>GCC<span class="o">)</span> 

</code></pre></div></div>

<h3 id="操作系统">操作系统：</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost ~]# <span class="nb">uname</span> <span class="nt">-a</span>
Linux localhost.localdomain 2.6.32-696.20.1.el6.x86_64 <span class="c">#1 SMP Fri Jan 26 17:51:45 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span>

</code></pre></div></div>

<h3 id="r版本360">R版本：3.6.0</h3>

<p>linux64下面安装R的环境发现，有一些组件太旧了，所以需要先升级一些组件，才能安装R的3.6.0版本。</p>

<p><strong>根据踩过的坑，罗列了一下需要升级IDE安装包。</strong></p>

<h2 id="2r-360依赖升级的包">2.R 3.6.0依赖升级的包</h2>

<ul>
  <li>bzip2&gt;=1.0.6，下载路径：https://nchc.dl.sourceforge.net/project/bzip2/bzip2-1.0.6.tar.gz</li>
  <li>curl version 7 and &gt;= 7.22.0，下载路径：https://curl.haxx.se/download/curl-7.22.0.tar.gz</li>
  <li>PCRE version &gt;= 8.20, &lt; 10.0 and has UTF-8 support：ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/</li>
  <li>xz-lzma version &gt;= 5.0.3，下载路径：https://nchc.dl.sourceforge.net/project/lzmautils/xz-5.2.3.tar.gz</li>
  <li>zlib version &gt;= 1.2.5，下载路径：https://zlib.net/zlib-1.2.11.tar.gz</li>
</ul>

<h2 id="下载好后的安装包结果如下">下载好后的安装包结果如下：</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost R-depends]# ll
total 7740
drwxr-xr-x.  2 root root     4096 Jun  1 01:52 bzip2-1.0.6
<span class="nt">-rw-r--r--</span><span class="nb">.</span>  1 root root   782025 Nov  4  2018 bzip2-1.0.6.tar.gz
drwxr-xr-x. 11 1000  1000    4096 Jun  1 01:56 curl-7.22.0
<span class="nt">-rw-r--r--</span><span class="nb">.</span>  1 root root  2957090 Jun  1 01:54 curl-7.22.0.tar.gz
drwxr-xr-x.  9 1169  1169   12288 Jun  1 01:58 pcre-8.38
<span class="nt">-rw-r--r--</span><span class="nb">.</span>  1 root root  2053336 Jun  1 01:49 pcre-8.38.tar.gz
drwxr-xr-x. 14 root root     4096 Jun  1 01:59 xz-5.2.3
<span class="nt">-rw-r--r--</span><span class="nb">.</span>  1 root root  1490665 Dec 30  2016 xz-5.2.3.tar.gz
drwxr-xr-x. 14  501 games    4096 Jun  1 02:14 zlib-1.2.11
<span class="nt">-rw-r--r--</span><span class="nb">.</span>  1 root root   607698 Jan 16  2017 zlib-1.2.11.tar.gz

</code></pre></div></div>

<h3 id="解决bzip2从105升级到106的方法">解决bzip2从1.0.5升级到1.0.6的方法</h3>

<p>在linux64的系统上，下载好后的bzip2默认不是用64位进行编译的，所以直接安装的时候回出错，如果你用的是linux32位的就没有问题，以下罗列了出现的安装错误：</p>

<p>Ø libbz2.a: could not read symbols: Bad value——&gt;把/usr/local/lib中的libbz2.a删掉</p>

<p>Ø /usr/local/lib/libz.a: could not read symbols——–&gt;操作同上，删掉libz.a;</p>

<h4 id="1-修改bzip2-106的makefile文件">1. 修改bzip2-1.0.6的”Makefile”文件：</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">CC</span><span class="o">=</span>gcc <span class="nt">-fPIC</span>  &lt;&lt; 新增 <span class="nt">-fPIC</span>，默认是64位编译的；
<span class="nv">AR</span><span class="o">=</span>ar
<span class="nv">RANLIB</span><span class="o">=</span>ranlib
<span class="nv">LDFLAGS</span><span class="o">=</span>
<span class="nv">BIGFILES</span><span class="o">=</span><span class="nt">-D_FILE_OFFSET_BITS</span><span class="o">=</span>64
<span class="nv">CFLAGS</span><span class="o">=</span><span class="nt">-fPIC</span> <span class="nt">-Wall</span> <span class="nt">-Winline</span> <span class="nt">-O2</span> <span class="nt">-g</span>  <span class="si">$(</span>BIGFILES<span class="si">)</span>   <span class="c"># 这里也可以加上</span>

</code></pre></div></div>

<h4 id="2-用命令行安装bzip2">2. 用命令行安装bzip2：</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum remove bzip2-devel.x86_64 0:1.0.5-7.el6_0  <span class="c">#　先remove掉原来的bzip-1.0.5文件：</span>
<span class="nb">cd </span>bzip2-1.0.6
make <span class="nt">-f</span> Makefile-libbz2_so
make clean &lt;<span class="nt">------------</span>保守建议，还是clean一下 
make
make <span class="nb">install </span><span class="nv">PREFIX</span><span class="o">=</span> xxx/xxx   <span class="c"># prefix表示的安装的路径前缀</span>

</code></pre></div></div>

<h4 id="3-具体的安装步骤">3. 具体的安装步骤</h4>

<p>首先依次升级低版本的包，具体安装步骤如下：</p>

<ul>
  <li>新建一个文件夹，然后把需要依赖的组件安装这个路径下</li>
  <li>安装相应的依赖包，把包都安装在制定路径上；</li>
  <li>修改一下path，新增这个文件夹路径，可以找到相应的环境；</li>
  <li>最后安装R；</li>
</ul>

<h4 id="首先看第一步进入linux系统">首先看第一步，进入linux系统：</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~
<span class="nb">mkdir </span>packages
</code></pre></div></div>

<p>#文件夹packages可以自行定义，这里</p>

<h2 id="各安装包的安装的报错和安装方法">各安装包的安装的报错和安装方法</h2>

<h3 id="bzip2">bzip2</h3>

<p>报错结果：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checking bzlib.h presence... <span class="nb">yes
</span>checking <span class="k">for </span>bzlib.h... <span class="nb">yes
</span>checking <span class="k">if </span>bzip2 version <span class="o">&gt;=</span> 1.0.6... no
checking whether bzip2 support suffices...
configure: 
error: bzip2 library and headers are required
</code></pre></div></div>

<p>具体命令，把bzip2的文件</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xzvf bzip2-1.0.6.tar.gz
<span class="nb">cd </span>bzip2-1.0.6
make <span class="nt">-f</span> Makefile-libbz2_so
make clean
make
make <span class="nt">-n</span> <span class="nb">install </span><span class="nv">PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/packages
make <span class="nb">install </span><span class="nv">PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/packages
</code></pre></div></div>

<h3 id="curl">curl</h3>

<p>报错：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checking libcurl version ... 7.19.7
checking curl/curl.h usability... <span class="nb">yes
</span>checking curl/curl.h presence... <span class="nb">yes
</span>checking <span class="k">for </span>curl/curl.h... <span class="nb">yes
</span>checking <span class="k">if </span>libcurl is version 7 and <span class="o">&gt;=</span>
7.28.0... no
configure: error: libcurl <span class="o">&gt;=</span> 7.28.0
library and headers are 
required with support <span class="k">for </span>https

</code></pre></div></div>

<p>安装方法：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> –xvf curl-7.54.1.tar.gz
<span class="nb">cd </span>curl
./configure <span class="nt">--prefix</span><span class="o">=</span><span class="nv">$HOME</span>/packages   <span class="c"># 这个是之前设置的packages路径</span>
make <span class="nt">-j3</span>
make <span class="nb">install</span>

</code></pre></div></div>

<h3 id="pcre">pcre</h3>

<p>报错内容：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checking <span class="k">for </span>pcre/pcre.h... no
checking <span class="k">if </span>PCRE version <span class="o">&gt;=</span> 8.10, &lt;
10.0 and has UTF-8 support... no checking whether PCRE support suffices...
configure: error: pcre <span class="o">&gt;=</span> 8.10 library and headers are required

</code></pre></div></div>

<p>安装方法：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> –xvf pcre-8.41.tar.gz
<span class="nb">cd </span>pcre
./configure <span class="nt">--enable-utf8</span>  <span class="nt">--prefix</span><span class="o">=</span><span class="nv">$HOME</span>/packages <span class="se">\</span>
<span class="c"># 这个是之前设置的packages路径，一定要设置enable-utf8;</span>
make
make <span class="nb">install</span>

</code></pre></div></div>

<h3 id="xz">xz</h3>

<p>报错方法：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checking whether bzip2 support suffices...
no
checking <span class="k">for </span>lzma_version_number <span class="k">in</span>
<span class="nt">-llzma</span>... no
configure: error: <span class="s2">"liblzma library and
headers are required"</span>

</code></pre></div></div>

<p>安装方法：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>xzvf xz-5.2.3.tar.gz
<span class="nb">cd </span>xz-5.2.3
./configure <span class="nt">--prefix</span><span class="o">=</span><span class="nv">$HOME</span>/packages
make <span class="nt">-j3</span>
make <span class="nb">install</span>

</code></pre></div></div>

<h3 id="zlib">zlib</h3>

<p>报错信息：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>checking <span class="k">if </span>zlib version <span class="o">&gt;=</span> 1.2.5... no
checking whether zlib support suffices...
configure: error: zlib library and headers are required

</code></pre></div></div>

<p>安装方法：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-zxvf</span> zlib-1.2.11.tar.gz

<span class="nb">cd </span>zlib-1.2.11/

./configure <span class="nt">--prefix</span><span class="o">=</span>/usr/local/zlib

make

make check

make <span class="nb">install

echo</span> <span class="s2">"/usr/local/zlib/lib"</span> <span class="o">&gt;&gt;</span> /etc/ld.so.conf 

ldconfig <span class="nt">-v</span>

</code></pre></div></div>

<h2 id="4-设置环境变量安装r-devel的时候需要找到相应的组件">4. 设置环境变量，安装R devel的时候需要找到相应的组件</h2>

<h3 id="设置pathcflagsldflags等路径">设置path，CFLAGS，LDFLAGS等路径；</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/packages/bin:<span class="nv">$PATH</span>
<span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$HOME</span>/packages/lib:<span class="nv">$LD_LIBRARY_PATH</span> 
<span class="nb">export </span><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">"-I</span><span class="nv">$HOME</span><span class="s2">/packages/include"</span> 
<span class="nb">export  </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">"-L</span><span class="nv">$HOME</span><span class="s2">/packages/lib"</span>

</code></pre></div></div>

<h2 id="5-安装r360">5. 安装R3.6.0</h2>

<p>安装R-liunx版本：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum <span class="nt">-y</span> <span class="nb">install </span>gcc  gcc-gfortran  gcc-c++  glibc-headers  libreadline6-dev gfortran   readline-devel  wget libXt-devel  fonts-chinese tcl tcl-devel tclx tk tk-devel  mesa-libGLU mesa-libGLU-devel  <span class="nb">install </span>bzip2-devel   <span class="nb">install </span>xz-devel.x86_64   <span class="nb">install </span>pcre-devel  <span class="nb">install </span>libcurl  <span class="nb">install </span>libcurl-devel   texinfo.x86_64  texlive-pdftex-doc.noarch  texlive

<span class="nb">tar</span> –xvf R-3.6.0.tar.gz
<span class="nb">cd </span>R-3.6.0
<span class="nb">sudo</span>  ./configure <span class="nt">--prefix</span><span class="o">=</span>/usr/local/lib64/R  <span class="nt">--enable-R-shlib</span>  <span class="nt">--with-readline</span><span class="o">=</span><span class="nb">yes</span> <span class="nt">--with-libpng</span><span class="o">=</span><span class="nb">yes</span> <span class="nt">--with-x</span><span class="o">=</span>no  <span class="c"># --enable-R-shlib一定要设置，否则安装不上Rserve;  prefix是安装路径，可以自定义；</span>
make <span class="nt">-j3</span>
make <span class="nb">install</span>

</code></pre></div></div>

<h2 id="6-设置环境变量">6 设置环境变量</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
vim /etc/profile
<span class="nv">R_HOME</span><span class="o">=</span>/usr/local/software/R-3.6.0
<span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$R_HOME</span>/bin
<span class="nb">source</span> /etc/profile

</code></pre></div></div>

<h2 id="7检验">7、检验</h2>

<p>在终端输入</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@localhost R-3.6.0]# R

R version 3.6.0 (2019-04-26) -- "Planting of a Tree"
Copyright (C) 2019 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.


</code></pre></div></div>
<p>表示R已经安装好了</p>

<h2 id="7-安装r的包或者rserve用来进行外部通讯">7. 安装R的包或者Rserve，用来进行外部通讯</h2>

<h3 id="启动r">启动R</h3>

<p>Rserve #在R的console里面执行下面的命令</p>

<p>1.下载安装包复制到服务器上 地址：Rserve - Binary R server - download/files - RForge.net(http://www.rforge.net/Rserve/files/)</p>

<p>2.install.packages(“Rserve安装包的绝对路径”) 或者 <strong>在终端执行</strong>：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>R CMD INSTALL Rserve_1.8-3.tar.gz

</code></pre></div></div>

<p>3.library(“Rserve”)，进入R界面，然后启动library(Rserve)启动；Rserve</p>

<p>或者用命令行，用命令行可以用进程控制，R client只能是线程控制，退出界面后就无法访问了</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
/usr/local/lib64/R/bin/R CMD /home/op1/R/x86_64-unknown-linux-gnu-library/3.2/Rserve/libs/Rserve

</code></pre></div></div>

<p>4.查看后台进程</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
ps aux | <span class="nb">grep </span>Rserve <span class="c"># 命令查看Rserve进程</span>

</code></pre></div></div>

<p>5.开启远程访问</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
R CMD  /home/op1/R/x86_64-unknown-linux-gnu-library/3.2/Rserve/libs//Rserve  <span class="nt">--RS-enable-remote</span> <span class="c">#开启远程访问</span>

</code></pre></div></div>

<h2 id="附录">附录：</h2>

<h3 id="参考资料">参考资料：　</h3>

<ul>
  <li>Building R-devel on RedHat Linux (https://link.zhihu.com/?target=http%3A//pj.freefaculty.org/blog/%3Fp%3D315)　写的也和详细，我把我碰到的问题做了一些顺序的调整；</li>
  <li>linux下R3.4.1的安装手册 (https://zhuanlan.zhihu.com/p/28055351)</li>
</ul>



                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2019/01/01/hotspot-jvm8-metaspace-16/" data-toggle="tooltip" data-placement="top" title="Java虚拟机：Metaspace">
                        上一篇<br>
                        <span>Java虚拟机：Metaspace</span>
                        </a>
                    </li>
                    
                    
                </ul>


                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">目录</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">类别标签</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#技术杂谈" title="技术杂谈" rel="3">
                                    技术杂谈
                                </a>
                            
        				
                            
                				<a href="/tags/#markdown" title="markdown" rel="3">
                                    markdown
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#OOA" title="OOA" rel="4">
                                    OOA
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Oracle" title="Oracle" rel="4">
                                    Oracle
                                </a>
                            
        				
                            
                				<a href="/tags/#数据库" title="数据库" rel="4">
                                    数据库
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#IDE" title="IDE" rel="7">
                                    IDE
                                </a>
                            
        				
                            
                				<a href="/tags/#DeskTop dev" title="DeskTop dev" rel="4">
                                    DeskTop dev
                                </a>
                            
        				
                            
                				<a href="/tags/#nw.js" title="nw.js" rel="3">
                                    nw.js
                                </a>
                            
        				
                            
                				<a href="/tags/#Linux" title="Linux" rel="20">
                                    Linux
                                </a>
                            
        				
                            
                				<a href="/tags/#IOS" title="IOS" rel="3">
                                    IOS
                                </a>
                            
        				
                            
                				<a href="/tags/#OpenSource" title="OpenSource" rel="7">
                                    OpenSource
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Docker" title="Docker" rel="10">
                                    Docker
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#机器学习" title="机器学习" rel="4">
                                    机器学习
                                </a>
                            
        				
                            
                				<a href="/tags/#自动化部署" title="自动化部署" rel="4">
                                    自动化部署
                                </a>
                            
        				
                            
                				<a href="/tags/#Spring" title="Spring" rel="3">
                                    Spring
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>友情连接</h5>
                <ul class="list-inline">
                    
                        <li><a href="http://geoserver.org/">GeoServer | 开源地图渲染</a></li>
                    
                        <li><a href="http://kafka.apache.org">kafaka |分布式流式平台</a></li>
                    
                        <li><a href="http://kafka.apache.org">activemq | 高可用的消息平台</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>






<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "xasa2q";
    var disqus_identifier = "/2019/06/12/install-R-language";
    var disqus_url = "http://localhost:4000/2019/06/12/install-R-language/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>



<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            display:none;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer style="display: none;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/caozhilong">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 思考生活 2020
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>



<!-- 三个按钮   Start-->
<style>
	.share {
	    border-top: 1px solid #E7E7E7;
	    border-bottom: 1px solid #E7E7E7;
	    margin-top: 20px;
	    padding: 20px;
	    text-align: center;
	    width: 100%;
	}
</style>
<div class="share">
	<div class="bshare-custom icon-medium-plus">
		<a title="更多平台" class="bshare-more bshare-more-icon more-style-addthis"></a>
		<a title="分享到QQ空间" class="bshare-qzone"></a>
		<a title="分享到微信" class="bshare-weixin"></a>
		<a title="分享到米聊" class="bshare-miliao"></a>
		<a title="分享到新浪微博" class="bshare-sinaminiblog"></a>
		<a title="分享到人人网" class="bshare-renren"></a>
		<a title="分享到腾讯微博" class="bshare-qqmb"></a>
		<a title="分享到凤凰微博" class="bshare-ifengmb"></a>
		<a title="分享到网易微博" class="bshare-neteasemb"></a>
	</div>
	<script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/button.js#style=-1&amp;uuid=&amp;pophcol=1&amp;lang=zh"></script>
	<a class="bshareDiv" onclick="javascript:return false;"></a>
	<script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script>
</div>
<!-- 三个按钮   End-->


<!-- 加入search插件 Begin -->
<div class="cb-search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
      opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">
    <input type="text" class="form-control cb-search-content" id="cb-search-content" style="position: fixed; top: 60px" placeholder="文章标题 日期 标签" >

    <div style="position: fixed; top: 16px; right: 16px;">
        <img src="/assets/img/search/cb-close.png"  id="cb-close-btn"/>
    </div>
</div>

<!--
<div style="position: fixed; right: 16px; bottom: 20px;">
    <img src="/assets/img/search/cb-search.png"  id="cb-search-btn"  title="双击ctrl试一下"/>
</div>
-->
<div style="position: fixed; right: 16px; bottom: 20px;" id="cb-search-btn">
    <svg class="icon" style="width: 2em;height:  2em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1348"><path d="M933.602 831.47 721.175 617.262c-2.472-2.479-5.204-4.372-7.813-6.435 35.884-55.518 56.836-121.647 56.836-192.878 0-195.694-157.298-354.31-351.461-354.31-194.054 0-351.461 158.616-351.461 354.31 0 195.722 157.407 354.302 351.461 354.302 70.631 0 136.303-21.179 191.459-57.361 2.009 2.692 3.852 5.369 6.283 7.827l212.454 214.235c14.506 14.579 33.396 21.849 52.314 21.849 18.932 0 37.836-7.268 52.328-21.814C962.436 907.824 962.436 860.61 933.602 831.47M418.737 660.37c-132.562 0-240.468-108.767-240.468-242.421 0-133.634 107.907-242.428 240.468-242.428 132.561 0 240.467 108.794 240.467 242.428C659.204 551.602 551.298 660.37 418.737 660.37" p-id="1349"></path></svg>
</div>
<!-- 加入search插件 End -->







<!-- jQuery -->
<script src="/assets/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/assets/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/assets/js/hux-blog.min.js "></script>

<!-- search plugin -->
<link rel="stylesheet" href="/assets/css/search/cb-search.css ">
<script src="/assets/js/search/bootstrap3-typeahead.min.js "></script>
<script src="/assets/js/search/cb-search.js "></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

      - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
      - https://help.github.com/articles/creating-and-highlighting-code-blocks/
      - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->

    <script>
        async("https://cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="https://cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css" rel="stylesheet">



<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->




<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/assets/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
	
	async("/assets/js/mermaid.min.js", function () {
		document.querySelectorAll('.language-mermaid').forEach(node => {
			const newNode = node.cloneNode(true)
			newNode.removeAttribute('class')
			const hr = document.createElement('hr')
			node.parentNode.insertBefore(hr, node)
			node.parentNode.insertBefore(newNode, hr)
		})
		window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'))
    });
	
</script>

<!-- MathJax插件
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_HTML-full"></script>
-->
<script type="text/x-mathjax-config">
  //MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });

    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [["$","$"],["\\(","\\)"]],
        displayMath: [ ['$$', '$$']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      messageStyle: "none",
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
    });
</script>
<script>
    async("https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML",function(){
        //to do somethings
        document.querySelectorAll('.language-math').forEach(node => {
            const newNode = node.cloneNode(true)
            newNode.removeAttribute('class')
            const hr = document.createElement('hr')
            const div = document.createElement('div')
            const mathNodes = [];
            if( node != null && typeof  node.textContent == 'string'){
                var mathLines = node.textContent.split("\n");
                for(var line in mathLines){
                    if(!/^s+$/.test(mathLines[line]) && "" != mathLines[line]){
                        mathNodes.push(mathLines[line]);
                    }
                }
            }
        const scriptEl = document.createElement('script')
        scriptEl.type="math/tex; mode=display";
scriptEl.textContent = "% <![CDATA[\n" +
    "\\begin{gather*} "+  mathNodes.join("\\\\\n") + "\\end{gather*}"
    +"%]]>";
        node.parentNode.insertBefore(scriptEl, node);
        node.hidden=true;
        });
    })

</script>





<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
